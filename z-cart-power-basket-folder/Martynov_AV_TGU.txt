CREATE TABLE Исследователь 
( 
    `ИсследовательID` int(11) not null primary key auto_increment, 
    `Фамилия` varchar(50) not null, 
    `Имя` varchar(50) not null, 
    `Отчество` varchar(50) 
); 
CREATE TABLE Источник 
(
    `ИсточникID` int(11) not null primary key auto_increment, 
    `ТипПубликации` varchar(25) default 'статья', 
    `Название` varchar(255) not null,
    `ВыходныеДанные` text
);
CREATE TABLE Исследование
(
    `ИсследованиеID` int(11) not null primary key auto_increment,     
    `Описание` text,
    `ИсследовательID` int(11) not null, 
    `ИсточникID` int(11) not null, 
    foreign key (ИсследовательID) references Исследователь(ИсследовательID),
    foreign key (ИсточникID) references Источник(ИсточникID)
);



INSERT INTO Исследователь 
(Фамилия, Имя, Отчество)
VALUES
('Иванов', 'Александр ', 'Сергеевич'),
('Петрова ', 'Елена ', 'Викторовна'),
('Смирнов ', 'Иван', 'Александрович'),
('Соколова', 'Мария', 'Ивановна'),
('Кузнецов', 'Андрей', 'Николаевич'),
('Новикова', 'Ольга', 'Алексеевна'),
('Мартынов', 'Александр', 'Владимирович');

INSERT INTO Источник 
(ТипПубликации, Название, ВыходныеДанные)
VALUES
('Монография', 'Теория упругости', 'Выходные данные 1'),
('Научная статья', 'Статья', 'Выходные данные 2'),
('Диссертация', 'Развитие новых методов лечения онкологических заболеваний', 'Выходные данные 3'),
('Отчет исследований', 'Изучение влияния климатических изменений на экосистемы российского арктического региона', 'Выходные данные 4'),
('Доклад об экспериментах', 'Анализ влияния технологий блокчейн на экономику России', 'Выходные данные 5'),
('Исследовательский доклад', 'Исследование и перспективы использования возобновляемых источников энергии в России', 'Выходные данные 6');

INSERT INTO Исследование 
(Описание, ИсследовательID, ИсточникID)
VALUES
('изучение поведения материалов под действием внешних сил', 2, 1),
('исследования фармакологических препаратов, лучевой терапии или хирургических методов.', 1, 3),
('прогноз будущих изменений, чтобы определить, какие практические меры необходимо принимать для уменьшения их отрицательных последствий. ', 3, 4),
('анализ экономических, социальных и юридических аспектов использования блокчейн-технологий.', 4, 5),
('изучение способов получения энергии из источников, которые возобновляются естественным путем', 5, 6),
('Исследование', 6, 2);


SELECT `Фамилия`, `Имя`, `Отчество` FROM Исследователь WHERE `Фамилия` LIKE 'П%';

SELECT `Описание` 
FROM 
Исследование INNER JOIN Источник 
ON Исследование.ИсточникID = Источник.ИсточникID 
WHERE `Название` = 'Теория упругости';

SELECT `Фамилия`, `Имя` 
FROM Исследователь INNER JOIN Исследование INNER JOIN Источник 
ON Исследователь.ИсследовательID = Исследование.ИсследовательID
AND Исследование.ИсточникID = Источник.ИсточникID
WHERE `ТипПубликации` = 'Монография';


UPDATE Исследователь
SET `Фамилия`='Склодовская-Кюри'
WHERE `Имя` LIKE '%Елена%' AND `Отчество` LIKE '%Викторовна%'; 


DELETE FROM Исследователь 
WHERE ИсследовательID 
NOT IN (SELECT ИсследовательID from Исследование);